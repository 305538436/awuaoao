import{h as L,ar as S,aq as T,aG as R,K as $,a as E,o as D,aK as G,a9 as p,u as c,j as o,k as n,D as d,x as b,al as K,F as M,Z as j,v as _,A as f,C as h,$ as q,B as z}from"./wvue.740b6138.js";import{L as k}from"./wstorage.542a95ff.js";import{o as A}from"./wother.adfb51b2.js";import{u as U}from"./wthemeConfig.d0b0ef54.js";import{u as Z}from"./wroutesList.596526a5.js";import{_ as H}from"./w_plugin-vue_export-helper.c27b6911.js";import"./wpreload-helper.41c905a7.js";import"./windex.b0c33291.js";import"./windex.2b3aae5b.js";import"./w_commonjsHelpers.35101cd5.js";import"./windex.21ed4667.js";import"./wkeepAliveNames.6557c4c5.js";import"./wuserInfo.dc6fc220.js";import"./wloading.8fd7309f.js";import"./wtagsViewRoutes.e33e101a.js";import"./wrequest.2ffe388a.js";import"./windex.e5dbaf17.js";import"./windex.1bceac5d.js";import"./windex.68010d60.js";import"./wvue-i18n.cjs.04c9b675.js";import"./wtoolsValidate.7cb139e2.js";const J={key:0,class:"layout-navbars-breadcrumb"},O={key:0,class:"layout-navbars-breadcrumb-span"},P={key:1},Q={key:2},W=["onClick"],X=L({name:"layoutBreadcrumb"}),Y=L({...X,setup(ee){const B=Z(),x=U(),{themeConfig:s}=S(x),{routesList:g}=S(B),u=T(),v=R(),e=$({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),I=E(()=>{m(u.path);const{layout:t,isBreadcrumb:a}=s.value;return t==="classic"||t==="transverse"?!1:!!a}),w=t=>{const{redirect:a,path:i}=t;a?v.push(a):v.push(i)},N=()=>{s.value.isCollapse=!s.value.isCollapse,V()},V=()=>{k.remove("themeConfig"),k.set("themeConfig",s.value)},C=t=>{t.forEach(a=>{e.routeSplit.forEach((i,y,l)=>{e.routeSplitFirst===a.path&&(e.routeSplitFirst+=`/${l[e.routeSplitIndex]}`,e.breadcrumbList.push(a),e.routeSplitIndex++,a.children&&C(a.children))})})},m=t=>{if(!s.value.isBreadcrumb)return!1;e.breadcrumbList=[g.value[0]],e.routeSplit=t.split("/"),e.routeSplit.shift(),e.routeSplitFirst=`/${e.routeSplit[0]}`,e.routeSplitIndex=1,C(g.value),(u.name==="home"||u.name==="notFound"&&e.breadcrumbList.length>1)&&e.breadcrumbList.shift(),e.breadcrumbList.length>0&&(e.breadcrumbList[e.breadcrumbList.length-1].meta.tagsViewName=A.setTagsViewNameI18n(u))};return D(()=>{m(u.path)}),G(t=>{m(t.path)}),(t,a)=>{const i=p("SvgIcon"),y=p("el-breadcrumb-item"),l=p("el-breadcrumb");return c(I)?(o(),n("div",J,[d(i,{class:"layout-navbars-breadcrumb-icon",name:c(s).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:N},null,8,["name"]),d(l,{class:"layout-navbars-breadcrumb-hide"},{default:b(()=>[d(K,{name:"breadcrumb"},{default:b(()=>[(o(!0),n(M,null,j(e.breadcrumbList,(r,F)=>(o(),_(y,{key:r.meta.tagsViewName?r.meta.tagsViewName:r.meta.title},{default:b(()=>[F===e.breadcrumbList.length-1?(o(),n("span",O,[c(s).isBreadcrumbIcon?(o(),_(i,{key:0,name:r.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):f("",!0),r.meta.tagsViewName?(o(),n("div",Q,h(r.meta.tagsViewName),1)):(o(),n("div",P,h(t.$t(r.meta.title)),1))])):(o(),n("a",{key:1,onClick:q(te=>w(r),["prevent"])},[c(s).isBreadcrumbIcon?(o(),_(i,{key:0,name:r.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):f("",!0),z(h(t.$t(r.meta.title)),1)],8,W))]),_:2},1024))),128))]),_:1})]),_:1})])):f("",!0)}}});const ke=H(Y,[["__scopeId","data-v-6ee1e737"]]);export{ke as default};
