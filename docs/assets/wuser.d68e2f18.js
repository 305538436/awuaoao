import{_ as z}from"./wpreload-helper.41c905a7.js";import{h as P,ap as x,aG as H,ar as B,r as G,K as J,a as K,o as Q,a9 as d,j as W,k as X,D as t,x as s,B as b,C as h,l as c,u as w,n as Y,q as Z}from"./wvue.740b6138.js";import{u as ee}from"./wvue-i18n.cjs.04c9b675.js";import{u as ne}from"./wuserInfo.dc6fc220.js";import{u as oe}from"./wthemeConfig.d0b0ef54.js";import"./wother.adfb51b2.js";import{e as te}from"./wmitt.7f99bbc0.js";import{L as S,S as se}from"./wstorage.542a95ff.js";import{ay as le}from"./windex.1bceac5d.js";import{J as re}from"./windex.e5dbaf17.js";import{_ as ae}from"./w_plugin-vue_export-helper.c27b6911.js";import"./w_commonjsHelpers.35101cd5.js";import"./windex.b0c33291.js";import"./windex.2b3aae5b.js";import"./windex.21ed4667.js";import"./wkeepAliveNames.6557c4c5.js";import"./wroutesList.596526a5.js";import"./wloading.8fd7309f.js";import"./wtagsViewRoutes.e33e101a.js";import"./wrequest.2ffe388a.js";import"./windex.68010d60.js";import"./wtoolsValidate.7cb139e2.js";const M=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=(()=>{if(typeof document>"u")return!1;const o=M[0],l={};for(const n of M)if((n==null?void 0:n[1])in document){for(const[a,g]of n.entries())l[o[a]]=g;return l}return!1})(),O={change:u.fullscreenchange,error:u.fullscreenerror};let r={request(o=document.documentElement,l){return new Promise((n,p)=>{const a=()=>{r.off("change",a),n()};r.on("change",a);const g=o[u.requestFullscreen](l);g instanceof Promise&&g.then(a).catch(p)})},exit(){return new Promise((o,l)=>{if(!r.isFullscreen){o();return}const n=()=>{r.off("change",n),o()};r.on("change",n);const p=document[u.exitFullscreen]();p instanceof Promise&&p.then(n).catch(l)})},toggle(o,l){return r.isFullscreen?r.exit():r.request(o,l)},onchange(o){r.on("change",o)},onerror(o){r.on("error",o)},on(o,l){const n=O[o];n&&document.addEventListener(n,l,!1)},off(o,l){const n=O[o];n&&document.removeEventListener(n,l,!1)},raw:u};Object.defineProperties(r,{isFullscreen:{get:()=>Boolean(document[u.fullscreenElement])},element:{enumerable:!0,get:()=>document[u.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[u.fullscreenEnabled])}});u||(r={isEnabled:!1});const C=r,ie={class:"layout-navbars-breadcrumb-user-icon"},ce=["title"],ue=["title"],me={class:"layout-navbars-breadcrumb-user-icon"},de=["title"],fe={class:"layout-navbars-breadcrumb-user-link"},pe=["src"],ge=P({name:"layoutBreadcrumbUser"}),_e=P({...ge,setup(o){const l=x(()=>z(()=>import("./wuserNews.9030e03e.js"),["./wuserNews.9030e03e.js","./wvue.740b6138.js","./w_plugin-vue_export-helper.c27b6911.js","./wuserNews.4cf8a27d.css"],import.meta.url)),n=x(()=>z(()=>import("./wsearch.ae196dbb.js"),["./wsearch.ae196dbb.js","./wvue.740b6138.js","./wvue-i18n.cjs.04c9b675.js","./w_commonjsHelpers.35101cd5.js","./wtagsViewRoutes.e33e101a.js","./wstorage.542a95ff.js","./w_plugin-vue_export-helper.c27b6911.js","./wsearch.9bcb87b1.css"],import.meta.url)),{locale:p,t:a}=ee(),g=H(),T=ne(),I=oe(),{userInfos:v}=B(T),{themeConfig:E}=B(I),$=G(),m=J({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:"large"}),q=K(()=>{let e="";const{layout:f,isClassicSplitMenu:i}=E.value;return["defaults","columns"].includes(f)||f==="classic"&&!i?e="1":e="",e}),N=()=>{if(!C.isEnabled)return le.warning("暂不不支持全屏"),!1;C.toggle(),C.on("change",()=>{C.isFullscreen?m.isScreenfull=!0:m.isScreenfull=!1})},R=()=>{te.emit("openSetingsDrawer")},L=e=>{e==="logOut"?re({closeOnClickModal:!1,closeOnPressEscape:!1,title:a("message.user.logOutTitle"),message:a("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:a("message.user.logOutConfirm"),cancelButtonText:a("message.user.logOutCancel"),buttonSize:"default",beforeClose:(f,i,_)=>{f==="confirm"?(i.confirmButtonLoading=!0,i.confirmButtonText=a("message.user.logOutExit"),setTimeout(()=>{_(),setTimeout(()=>{i.confirmButtonLoading=!1},300)},700)):_()}}).then(async()=>{se.clear(),window.location.reload()}).catch(()=>{}):e==="wareHouse"?window.open("https://gitee.com/lyt-top/vue-next-admin"):g.push(e)},A=e=>{S.remove("themeConfig"),E.value.globalComponentSize=e,S.set("themeConfig",E.value),F("globalComponentSize","disabledSize"),window.location.reload()},F=(e,f)=>{m[f]=S.get("themeConfig")[e]};return Q(()=>{S.get("themeConfig")&&(F("globalComponentSize","disabledSize"),F("globalI18n","disabledI18n"))}),(e,f)=>{const i=d("el-dropdown-item"),_=d("el-dropdown-menu"),k=d("el-dropdown"),D=d("ele-Bell"),y=d("el-icon"),V=d("el-badge"),U=d("el-popover"),j=d("ele-ArrowDown");return W(),X("div",{class:"layout-navbars-breadcrumb-user pr15",style:Z({flex:w(q)})},[t(k,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:A},{dropdown:s(()=>[t(_,null,{default:s(()=>[t(i,{command:"large",disabled:m.disabledSize==="large"},{default:s(()=>[b(h(e.$t("message.user.dropdownLarge")),1)]),_:1},8,["disabled"]),t(i,{command:"default",disabled:m.disabledSize==="default"},{default:s(()=>[b(h(e.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),t(i,{command:"small",disabled:m.disabledSize==="small"},{default:s(()=>[b(h(e.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"])]),_:1})]),default:s(()=>[c("div",ie,[c("i",{class:"iconfont icon-ziti",title:e.$t("message.user.title0")},null,8,ce)])]),_:1}),c("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:R},[c("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,ue)]),c("div",me,[t(U,{placement:"bottom",trigger:"click",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:s(()=>[t(V,{"is-dot":!0},{default:s(()=>[t(y,{title:e.$t("message.user.title4")},{default:s(()=>[t(D)]),_:1},8,["title"])]),_:1})]),default:s(()=>[t(w(l))]),_:1})]),c("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:N},[c("i",{class:Y(["iconfont",m.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:m.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,de)]),t(k,{"show-timeout":70,"hide-timeout":50,onCommand:L},{dropdown:s(()=>[t(_,null,{default:s(()=>[t(i,{command:"/home"},{default:s(()=>[b(h(e.$t("message.user.dropdown1")),1)]),_:1}),t(i,{divided:"",command:"logOut"},{default:s(()=>[b(h(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:s(()=>[c("span",fe,[c("img",{src:w(v).photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,pe),b(" "+h(w(v).userName===""?"common":w(v).userName)+" ",1),t(y,{class:"el-icon--right"},{default:s(()=>[t(j)]),_:1})])]),_:1}),t(w(n),{ref_key:"searchRef",ref:$},null,512)],4)}}});const Le=ae(_e,[["__scopeId","data-v-abfc913d"]]);export{Le as default};
